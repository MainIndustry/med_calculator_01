#: import NoTransition kivy.uix.screenmanager.NoTransition
#: import ToggleButtonBehavior kivy.uix.behaviors.ToggleButtonBehavior

MDScreen:
    md_bg_color: self.theme_cls.secondaryContainerColor
    MDNavigationLayout:
        MDScreenManager:
            id: nav_manager
            ScreenCalculator:
            ScreenSettings:

        MDNavigationDrawer:
            id: nav_drawer
            radius: 0, dp(16), dp(16), 0
            MDNavigationDrawerMenu:
                MDNavigationDrawerLabel:
                    text: "Меню"
                    padding: "18dp", 0, "18dp", "4dp"
                    font_style: "Title"
                MDNavigationDrawerDivider:
                MDNavigationDrawerItem:
                    on_release: nav_manager.current = 'menu' ; nav_drawer.set_state("toggle")
                    #nav_manager.transition = NoTransition() ;
                    MDNavigationDrawerItemLeadingIcon:
                        icon: "calculator"
                    MDNavigationDrawerItemText:
                        text: "Калькуляторы"
                MDNavigationDrawerItem:
                    on_release: nav_manager.current = 'settings' ; nav_drawer.set_state("toggle")
                    MDNavigationDrawerItemLeadingIcon:
                        icon: "cog"
                    MDNavigationDrawerItemText:
                        text: "Настройки"
                MDNavigationDrawerDivider:

<ScreenCalculator@MDScreen>:
    name: "menu"
    MDScreenManager:
        id: menu_manager

        MDScreen:
            name: 'calculator'
            MDBoxLayout:
                orientation: 'vertical'

                TopMenu:

                ScrollView:
                    ScrollMenu:
                        Title:
                            text: "Калькуляторы"
                        MDButton:
                            on_release: menu_manager.current = "massloss"
                            MDButtonText:
                                text: "Расчёт убыли массы тела"                               
                        MDButton:
                            on_release: menu_manager.current = "kurosurf"
                            MDButtonText:
                                text: "Расчёт дозы Куросурфа®"
                        MDButton:
                            on_release: menu_manager.current = "cofe"
                            MDButtonText:
                                text: "Расчёт дозы кофеина"
                        MDButton:
                            on_release: menu_manager.current = "dofamine"
                            MDButtonText:
                                text: "Расчёт дозы дофамина"
                        MDButton:
                            on_release: menu_manager.current = "neutroindex"
                            MDButtonText:
                                text: "Расчёт нейтрофильного индекса"
                        Title:
                            text: "Шкалы"
                        MDButton:
                            on_release: menu_manager.current = "silverman"
                            MDButtonText:
                                text: "Шкала Сильвермана"
                        MDButton:
                            on_release: menu_manager.current = "downes"
                            MDButtonText:
                                text: "Шкала Даунса"
                        MDButton:
                            on_release: menu_manager.current = "ballard"
                            MDButtonText:
                                text: "Шкала Балларда"

                MDTopAppBar:
                    size_hint_y: .2
                    MDTopAppBarLeadingButtonContainer:
                        MDActionTopAppBarButton:
                            icon: "magnify"
                    MDTopAppBarTitle:
                        text: "Поиск..."
        ScreenMassLoss:
        ScreenKurosurf:
        ScreenCofe:
        ScreenDofamine:
        ScreenNeutroIndex:
        ScreenSilverman:
        ScreenDownes:
        ScreenBallard:

<ScreenSettings@MDScreen>:
    name: 'settings'
    MDBoxLayout:
        orientation: 'vertical'

        TopMenu:

        ScrollView:
            ScrollMenu:
                Header:
                    text:"Второй скрин"
                                   
        MDTopAppBar:
            size_hint_y: .2

<TopMenu@MDTopAppBar>:
    size_hint_y: .2
    MDTopAppBarLeadingButtonContainer:
        MDActionTopAppBarButton:
            icon: "menu"
            on_press: app.open_menu()
    MDTopAppBarTitle:
        text: "Медицинский калькулятор"
        pos_hint: {"center_x": .5}
        font_style: "Title"
        role: "medium"
<TopMenu2@MDTopAppBar>:
    size_hint_y: .2
    MDTopAppBarLeadingButtonContainer:
        MDActionTopAppBarButton:
            icon: "arrow-left"
            on_press: app.back_to_menu()
    MDTopAppBarTitle:
        text: "Медицинский калькулятор"
        pos_hint: {"center_x": .5}
        font_style: "Title"
        role: "medium"

<TileContainer@MDSmartTileOverlayContainer>:
    adaptive_height: True
    padding: 0, "8dp"
    spacing: "8dp"
<#MDListItemHeadlineText>:
    #text: "[size=54][/size]"
<ImageCheckbox@MDCheckbox>:
    pos_hint: {"center_y": .1, "center_x": 0}
<SmartMenu@MDGridLayout>:
    spacing: "6dp"
    size_hint_y: None
    rows: 3
    cols: 3
<SubMenuTitle@MDLabel>:
    adaptive_height: True
    padding: "12dp", 0, 0, 0       
<ScrollMenu@MDGridLayout>:
    padding: "12dp"
    spacing: "12dp"
    cols: 1
    adaptive_height: True
<Header@MDLabel>
    font_style: "Headline"
    adaptive_height: True
<Title@MDLabel>:
    font_style: "Title"
    adaptive_height: True
    padding: "6dp", 0, 0, 0  
<ResultField@MDTextField>:
    mode: "outlined"
    readonly: True
    MDTextFieldHintText:
        text: "Результат:"
<InterField@MDTextField>:
    mode: "outlined"
    readonly: True
    MDTextFieldHintText:
        text: "Интерпретация:"
<MDNavigationBar>:
    size_hint_y: .2
    padding: "10dp"
    spacing: "10dp"
<CountBar@MDNavigationItemLabel>:
    text: "Вычислить"
    pos_hint: {"center_x": .5, "center_y": 0}
<ClearBar@MDNavigationItemLabel>:
    text: "Очистить форму"
    pos_hint: {"center_x": .5, "center_y": 0}

<ScreenMassLoss@MDScreen>:
    name: "massloss"
    MDBoxLayout:
        orientation: 'vertical'
        #spacing: "12dp"

        TopMenu2:

        ScrollView:
            ScrollMenu:
                Header:
                    text: "Расчёт убыли массы тела"
                SubMenuTitle:
                    text: "Масса при рождении (г)"
                MDTextField:
                    id: mass1
                    mode: "filled"
                    input_filter: 'int'
                SubMenuTitle:
                    text: "Настоящая масса (г)"
                MDTextField:
                    id: mass2
                    mode: "filled"
                    input_filter: 'int'
                SubMenuTitle:
                    text: "Потеря массы тела" 
                MDTextField:
                    id: result
                    mode: "outlined"
                    readonly: True

        MDNavigationBar:
            MDNavigationItem:
                on_release: app.count_mass()
                active: False
                CountBar:
            MDNavigationItem:
                on_release: app.clear_calculator()
                active: False
                ClearBar:

<ScreenKurosurf@MDScreen>:
    name: "kurosurf"
    MDBoxLayout:
        orientation: 'vertical'
        #spacing: "12dp"

        TopMenu2:

        ScrollView:
            ScrollMenu:
                Header:
                    text: "Расчёт дозы Куросурфа®\n80 мг/мл (120 мг/фл)"
                MDGridLayout:
                    cols: 2
                    adaptive_height: True
                    spacing: "6dp"
                    MDCheckbox:
                        id: dose1
                        group: "dose"
                        on_press: if dose1.active == False: dose1.active = True
                        active: True
                    MDLabel:
                        text: "Стартовая доза 200 мг/кг"
                        adaptive_height: True
                        pos_hint: {"center_y": .5}
                    MDCheckbox:
                        id: dose2
                        group: "dose"
                        on_press: if dose2.active == False: dose2.active = True                        
                    MDLabel:
                        text: "Доза для повторного ввеления 100 мг/кг"
                        adaptive_height: True
                        pos_hint: {"center_y": .5}
                SubMenuTitle:
                    text: "Масса тела ребёнка (г)"
                MDTextField:
                    id: mass
                    mode: "filled"
                    input_filter: 'int'
                SubMenuTitle:
                    text: "Результат" 
                MDTextField:
                    id: result1
                    mode: "outlined"
                    readonly: True
                MDTextField:
                    id: result2
                    mode: "outlined"
                    readonly: True
                MDTextField:
                    id: result3
                    mode: "outlined"
                    readonly: True

        MDNavigationBar:
            MDNavigationItem:
                on_release: app.count_kurosurf()
                active: False
                CountBar:
            MDNavigationItem:
                on_release: app.clear_calculator()
                active: False
                ClearBar:

<ScreenCofe@MDScreen>:
    name: "cofe"
    MDBoxLayout:
        orientation: 'vertical'
        #spacing: "12dp"

        TopMenu2:

        ScrollView:
            ScrollMenu:
                Header:
                    text: "Расчёт дозы кофеина-бензоата натрия\n200 мг/мл"
                MDGridLayout:
                    cols: 2
                    adaptive_height: True
                    spacing: "6dp"
                    MDCheckbox:
                        id: cofe1
                        group: "cofe"
                        on_press: if cofe1.active == False: cofe1.active = True
                        active: True
                    MDLabel:
                        text: "Нагрузочная доза 20 мг/кг"
                        adaptive_height: True
                        pos_hint: {"center_y": .5}
                    MDCheckbox:
                        id: cofe2
                        group: "cofe"
                        on_press: if cofe2.active == False: cofe2.active = True                        
                    MDLabel:
                        text: "Поддерживающая доза 5 мг/кг"
                        adaptive_height: True
                        pos_hint: {"center_y": .5}
                SubMenuTitle:
                    text: "Масса тела ребёнка (г)"
                MDTextField:
                    id: mass
                    mode: "filled"
                    input_filter: 'int'
                SubMenuTitle:
                    text: "Результат" 
                MDTextField:
                    id: result
                    mode: "outlined"
                    readonly: True 

        MDNavigationBar:
            MDNavigationItem:
                on_release: app.count_cofe()
                active: False
                CountBar:
            MDNavigationItem:
                on_release: app.clear_calculator()
                active: False
                ClearBar:

<ScreenDofamine@MDScreen>:
    name: "dofamine"
    MDBoxLayout:
        orientation: 'vertical'
        #spacing: "12dp"

        TopMenu2:

        ScrollView:
            ScrollMenu:
                Header:
                    text: "Расчёт дозы дофамина\n40 мг/мл"

                SubMenuTitle:
                    text: "Доза (мкг/кг/мин)"
                MDTextField:
                    id: dofa
                    mode: "filled"
                    input_filter: 'float'
                    #text: " "
                    MDTextFieldHintText:
                        text: "Стартовая доза от 5 мкг/кг/мин"
                SubMenuTitle:
                    text: "Масса тела ребёнка (г)"
                MDTextField:
                    id: mass
                    mode: "filled"
                    input_filter: 'int'
                SubMenuTitle:
                    text: "Результат" 
                MDTextField:
                    id: result
                    mode: "outlined"
                    readonly: True 

        MDNavigationBar:
            MDNavigationItem:
                on_release: app.count_dofamine()
                active: False
                CountBar:
            MDNavigationItem:
                on_release: app.clear_calculator()
                active: False
                ClearBar:

<ScreenNeutroIndex@MDScreen>:
    name: "neutroindex"
    MDBoxLayout:
        orientation: 'vertical'
        #spacing: "12dp"

        TopMenu2:

        ScrollView:
            ScrollMenu:
                Header:
                    text: "Расчёт нейтрофильного индекса"
                SubMenuTitle:
                    text: "Миелоциты (%)"
                MDTextField:
                    id: percent1
                    mode: "filled"
                    input_filter: 'float'
                SubMenuTitle:
                    text: "Юные нейтрофилы (%)"
                MDTextField:
                    id: percent2
                    mode: "filled"
                    input_filter: 'float'
                SubMenuTitle:
                    text: "Палочкоядерные нейтрофилы (%)"
                MDTextField:
                    id: percent3
                    mode: "filled"
                    input_filter: 'float'
                SubMenuTitle:
                    text: "Сегментоядерные нейтрофилы (%)"
                MDTextField:
                    id: percent4
                    mode: "filled"
                    input_filter: 'float'
                SubMenuTitle:
                    text: "Результат"
                MDTextField:
                    id: result
                    mode: "outlined"
                    readonly: True

        MDNavigationBar:
            MDNavigationItem:
                on_release: app.count_neutroindex()
                active: False
                CountBar:
            MDNavigationItem:
                on_release: app.clear_calculator()
                active: False
                ClearBar:

<ScreenSilverman@MDScreen>:
    name: "silverman"
    MDBoxLayout:
        orientation: 'vertical'
        #spacing: "12dp"

        TopMenu2:

        ScrollView:
            ScrollMenu:
                Header:
                    text: "Шкала Сильвермана"
                SubMenuTitle:
                    text: "Движение грудной клетки"    
                MDList:
                    MDListItem:
                        on_release: silverman11.state = "down" if silverman11.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Грудь и живот равномерно участвуют в акте дыхания"
                        MDListItemTrailingCheckbox:
                            id: silverman11
                            on_release: silverman11.state = "down" if silverman11.state == "normal" else "normal"
                            group: 'silver1'
                    MDListItem:
                        on_release: silverman12.state = "down" if silverman12.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Аритмичное, неравномерное дыхание"
                        MDListItemTrailingCheckbox:
                            id: silverman12
                            on_release: silverman12.state = "down" if silverman12.state == "normal" else "normal"
                            group: 'silver1'
                    MDListItem:
                        on_release: silverman13.state = "down" if silverman13.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Парадоксальное дыхание"
                        MDListItemTrailingCheckbox:
                            id: silverman13
                            on_release: silverman13.state = "down" if silverman13.state == "normal" else "normal"
                            group: 'silver1'

                SubMenuTitle:
                    text: "Втяжение межреберий"       
                MDList:
                    MDListItem:
                        on_release: silverman21.state = "down" if silverman21.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Нет"
                        MDListItemTrailingCheckbox:
                            id: silverman21
                            on_release: silverman21.state = "down" if silverman21.state == "normal" else "normal"
                            group: 'silver2'
                    MDListItem:
                        on_release: silverman22.state = "down" if silverman22.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Не резко выражено"
                        MDListItemTrailingCheckbox:
                            id: silverman22
                            on_release: silverman22.state = "down" if silverman22.state == "normal" else "normal"
                            group: 'silver2'
                    MDListItem:
                        on_release: silverman23.state = "down" if silverman23.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Резко выражено"
                        MDListItemTrailingCheckbox:
                            id: silverman23
                            on_release: silverman23.state = "down" if silverman23.state == "normal" else "normal"
                            group: 'silver2'
                
                SubMenuTitle:
                    text: "Втяжение грудины"                
                MDList:
                    MDListItem:
                        on_release: silverman31.state = "down" if silverman31.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Нет"
                        MDListItemTrailingCheckbox:
                            id: silverman31
                            on_release: silverman31.state = "down" if silverman31.state == "normal" else "normal"
                            group: 'silver3'
                    MDListItem:
                        on_release: silverman32.state = "down" if silverman32.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Не резко выражено"
                        MDListItemTrailingCheckbox:
                            id: silverman32
                            on_release: silverman32.state = "down" if silverman32.state == "normal" else "normal"
                            group: 'silver3'
                    MDListItem:
                        on_release: silverman33.state = "down" if silverman33.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Резко выражено"
                        MDListItemTrailingCheckbox:
                            id: silverman33
                            on_release: silverman33.state = "down" if silverman33.state == "normal" else "normal"
                            group: 'silver3'

                SubMenuTitle:
                    text: "Положение нижней челюсти"               
                MDList:
                    MDListItem:
                        on_release: silverman41.state = "down" if silverman41.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Рот закрыт, нижняя челюсть не западает"
                        MDListItemTrailingCheckbox:
                            id: silverman41
                            on_release: silverman41.state = "down" if silverman41.state == "normal" else "normal"
                            group: 'silver4'
                    MDListItem:
                        on_release: silverman42.state = "down" if silverman42.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Рот закрыт, нижняя челюсть западает"
                        MDListItemTrailingCheckbox:
                            id: silverman42
                            on_release: silverman42.state = "down" if silverman42.state == "normal" else "normal"
                            group: 'silver4'
                    MDListItem:
                        on_release: silverman43.state = "down" if silverman43.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Рот открыт, челюсть западает"
                        MDListItemTrailingCheckbox:
                            id: silverman43
                            on_release: silverman43.state = "down" if silverman43.state == "normal" else "normal"
                            group: 'silver4'

                SubMenuTitle:
                    text: "Дыхание"               
                MDList:
                    MDListItem:
                        on_release: silverman51.state = "down" if silverman51.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Спокойное, ровное"
                        MDListItemTrailingCheckbox:
                            id: silverman51
                            on_release: silverman51.state = "down" if silverman51.state == "normal" else "normal"
                            group: 'silver5'
                    MDListItem:
                        on_release: silverman52.state = "down" if silverman52.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "При аускультации слышен затрудненный выдох"
                        MDListItemTrailingCheckbox:
                            id: silverman52
                            on_release: silverman52.state = "down" if silverman52.state == "normal" else "normal"
                            group: 'silver5'
                    MDListItem:
                        on_release: silverman53.state = "down" if silverman53.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Стонущее, экспираторные шумы слышны на расстоянии"
                        MDListItemTrailingCheckbox:
                            id: silverman53
                            on_release: silverman53.state = "down" if silverman53.state == "normal" else "normal"
                            group: 'silver5'

                ResultField:
                    id: result
                InterField:
                    id: inter

        MDNavigationBar:
            MDNavigationItem:
                on_release: app.count_silverman()
                active: False
                CountBar:
            MDNavigationItem:
                on_release: app.clear_scale()
                active: False
                ClearBar:

<ScreenDownes@MDScreen>:
    name: "downes"
    MDBoxLayout:
        orientation: 'vertical'
        #spacing: "12dp"

        TopMenu2:

        ScrollView:
            ScrollMenu:
                Header:
                    text: "Шкала Даунса"
                SubMenuTitle:
                    text: "ЧД (Частота дыхания)"                    
                MDList:
                    MDListItem:
                        on_release: downes11.state = "down" if downes11.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "60"
                        MDListItemTrailingCheckbox:
                            id: downes11
                            on_release: downes11.state = "down" if downes11.state == "normal" else "normal"
                            group: 'downes1'
                    MDListItem:
                        on_release: downes12.state = "down" if downes12.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "60-80"
                        MDListItemTrailingCheckbox:
                            id: downes12
                            on_release: downes12.state = "down" if downes12.state == "normal" else "normal"
                            group: 'downes1'
                    MDListItem:
                        on_release: downes13.state = "down" if downes13.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Более 80"
                        MDListItemTrailingCheckbox:
                            id: downes13
                            on_release: downes13.state = "down" if downes13.state == "normal" else "normal"
                            group: 'downes1'

                SubMenuTitle:
                    text: "Цианоз"               
                MDList:
                    MDListItem:
                        on_release: downes21.state = "down" if downes21.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Отсутствует"
                        MDListItemTrailingCheckbox:
                            id: downes21
                            on_release: downes21.state = "down" if downes21.state == "normal" else "normal"
                            group: 'downes2'
                    MDListItem:
                        on_release: downes22.state = "down" if downes22.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "При дыхании комнатным воздухом"
                        MDListItemTrailingCheckbox:
                            id: downes22
                            on_release: downes22.state = "down" if downes22.state == "normal" else "normal"
                            group: 'downes2'
                    MDListItem:
                        on_release: downes23.state = "down" if downes23.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "При дыхании 40% кислородом"
                        MDListItemTrailingCheckbox:
                            id: downes23
                            on_release: downes23.state = "down" if downes23.state == "normal" else "normal"
                            group: 'downes2'

                SubMenuTitle:
                    text: "Раздувание крыльев носа"               
                MDList:
                    MDListItem:
                        on_release: downes31.state = "down" if downes31.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Отсутствует"
                        MDListItemTrailingCheckbox:
                            id: downes31
                            on_release: downes31.state = "down" if downes31.state == "normal" else "normal"
                            group: 'downes3'
                    MDListItem:
                        on_release: downes32.state = "down" if downes32.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Еле заметное"
                        MDListItemTrailingCheckbox:
                            id: downes32
                            on_release: downes32.state = "down" if downes32.state == "normal" else "normal"
                            group: 'downes3'
                    MDListItem:
                        on_release: downes33.state = "down" if downes33.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Умеренное или выраженное"
                        MDListItemTrailingCheckbox:
                            id: downes33
                            on_release: downes33.state = "down" if downes33.state == "normal" else "normal"
                            group: 'downes3'

                SubMenuTitle:
                    text: "Затрудненный выдох"           
                MDList:
                    MDListItem:
                        on_release: downes41.state = "down" if downes41.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Отсутствует"
                        MDListItemTrailingCheckbox:
                            id: downes41
                            on_release: downes41.state = "down" if downes41.state == "normal" else "normal"
                            group: 'downes4'
                    MDListItem:
                        on_release: downes42.state = "down" if downes42.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Слышен при аускультации"
                        MDListItemTrailingCheckbox:
                            id: downes42
                            on_release: downes42.state = "down" if downes42.state == "normal" else "normal"
                            group: 'downes4'
                    MDListItem:
                        on_release: downes43.state = "down" if downes43.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Слышен без стетоскопа"
                        MDListItemTrailingCheckbox:
                            id: downes43
                            on_release: downes43.state = "down" if downes43.state == "normal" else "normal"
                            group: 'downes4'

                SubMenuTitle:
                    text: "Аускультация"               
                MDList:
                    MDListItem:
                        on_release: downes51.state = "down" if downes51.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Дыхание прослушивается хорошо"
                        MDListItemTrailingCheckbox:
                            id: downes51
                            on_release: downes51.state = "down" if downes51.state == "normal" else "normal"
                            group: 'downes5'
                    MDListItem:
                        on_release: downes52.state = "down" if downes52.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Дыхание ослабленное"
                        MDListItemTrailingCheckbox:
                            id: downes52
                            on_release: downes52.state = "down" if downes52.state == "normal" else "normal"
                            group: 'downes5'
                    MDListItem:
                        on_release: downes53.state = "down" if downes53.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Дыхание едва слышно"
                        MDListItemTrailingCheckbox:
                            id: downes53
                            on_release: downes53.state = "down" if downes53.state == "normal" else "normal"
                            group: 'downes5'

                ResultField:
                    id: result
                InterField:
                    id: inter

        MDNavigationBar:
            MDNavigationItem:
                on_release: app.count_downes()
                active: False
                CountBar:
            MDNavigationItem:
                on_release: app.clear_scale()
                active: False
                ClearBar:

<ScreenBallard@MDScreen>:
    name: "ballard"
    MDBoxLayout:
        orientation: 'vertical'
        #spacing: "12dp"

        TopMenu2:

        ScrollView:
            ScrollMenu:
                Header:
                    text: "Шкала Балларда"
                Title:
                    text: "Оценка нейромышечной зрелости новорождённого ребёнка"
                SubMenuTitle:
                    text: "Поза"
                SmartMenu:
                    height: root.width / 2
                    MDSmartTile:
                        on_release: poza_1.state = "down" if poza_1.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/poza/poza_1.png"
                        TileContainer:
                            ImageCheckbox:
                                id: poza_1
                                on_release: poza_1.state = "down" if poza_1.state == "normal" else "normal"
                                group: "poza"
                    MDSmartTile:
                        on_release: poza_2.state = "down" if poza_2.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/poza/poza_2.png"
                        TileContainer:
                            ImageCheckbox:
                                id: poza_2
                                on_release: poza_2.state = "down" if poza_2.state == "normal" else "normal"                                
                                group: "poza"
                    MDSmartTile:
                        on_release: poza_3.state = "down" if poza_3.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/poza/poza_3.png"
                        TileContainer:
                            ImageCheckbox:
                                id: poza_3
                                on_release: poza_3.state = "down" if poza_3.state == "normal" else "normal"
                                group: "poza"
                    MDSmartTile:
                        on_release: poza_4.state = "down" if poza_4.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/poza/poza_4.png"
                        TileContainer:
                            ImageCheckbox:
                                id: poza_4
                                on_release: poza_4.state = "down" if poza_4.state == "normal" else "normal"
                                #on_active: print(self, root, self.group, self.state)
                                #on_active: app.check(self)
                                group: "poza"
                    MDSmartTile:
                        on_release: poza_5.state = "down" if poza_5.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/poza/poza_5.png"
                        TileContainer:
                            ImageCheckbox:
                                id: poza_5
                                on_release: poza_5.state = "down" if poza_5.state == "normal" else "normal"
                                group: "poza"

                SubMenuTitle:
                    text: '"Квадратное" окно'
                SmartMenu:
                    height: root.width / 2
                    MDSmartTile:
                        on_release: squarewindow_1.state = "down" if squarewindow_1.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/squarewindow/squarewindow_1.png"
                        TileContainer:
                            ImageCheckbox:
                                id: squarewindow_1
                                on_release: squarewindow_1.state = "down" if squarewindow_1.state == "normal" else "normal"
                                group: "squarewindow"
                    MDSmartTile:
                        on_release: squarewindow_2.state = "down" if squarewindow_2.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/squarewindow/squarewindow_2.png"
                        TileContainer:
                            ImageCheckbox:
                                id: squarewindow_2
                                on_release: squarewindow_2.state = "down" if squarewindow_2.state == "normal" else "normal"                                
                                group: "squarewindow"
                    MDSmartTile:
                        on_release: squarewindow_3.state = "down" if squarewindow_3.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/squarewindow/squarewindow_3.png"
                        TileContainer:
                            ImageCheckbox:
                                id: squarewindow_3
                                on_release: squarewindow_3.state = "down" if squarewindow_3.state == "normal" else "normal"
                                group: "squarewindow"
                    MDSmartTile:
                        on_release: squarewindow_4.state = "down" if squarewindow_4.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/squarewindow/squarewindow_4.png"
                        TileContainer:
                            ImageCheckbox:
                                id: squarewindow_4
                                on_release: squarewindow_4.state = "down" if squarewindow_4.state == "normal" else "normal"
                                group: "squarewindow"
                    MDSmartTile:
                        on_release: squarewindow_5.state = "down" if squarewindow_5.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/squarewindow/squarewindow_5.png"
                        TileContainer:
                            ImageCheckbox:
                                id: squarewindow_5
                                on_release: squarewindow_5.state = "down" if squarewindow_5.state == "normal" else "normal"
                                group: "squarewindow"
                    MDSmartTile:
                        on_release: squarewindow_6.state = "down" if squarewindow_6.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/squarewindow/squarewindow_6.png"
                        TileContainer:
                            ImageCheckbox:
                                id: squarewindow_6
                                on_release: squarewindow_6.state = "down" if squarewindow_6.state == "normal" else "normal"
                                group: "squarewindow"
                
                SubMenuTitle:
                    text: 'Возврат руки'
                SmartMenu:
                    height: root.width / 2
                    MDSmartTile:
                        on_release: armrecoil_1.state = "down" if armrecoil_1.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/armrecoil/armrecoil_1.png"
                        TileContainer:
                            ImageCheckbox:
                                id: armrecoil_1
                                on_release: armrecoil_1.state = "down" if armrecoil_1.state == "normal" else "normal"
                                group: "armrecoil"
                    MDSmartTile:
                        on_release: armrecoil_2.state = "down" if armrecoil_2.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/armrecoil/armrecoil_2.png"
                        TileContainer:
                            ImageCheckbox:
                                id: armrecoil_2
                                on_release: armrecoil_2.state = "down" if armrecoil_2.state == "normal" else "normal"                                
                                group: "armrecoil"
                    MDSmartTile:
                        on_release: armrecoil_3.state = "down" if armrecoil_3.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/armrecoil/armrecoil_3.png"
                        TileContainer:
                            ImageCheckbox:
                                id: armrecoil_3
                                on_release: armrecoil_3.state = "down" if armrecoil_3.state == "normal" else "normal"
                                group: "armrecoil"
                    MDSmartTile:
                        on_release: armrecoil_4.state = "down" if armrecoil_4.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/armrecoil/armrecoil_4.png"
                        TileContainer:
                            ImageCheckbox:
                                id: armrecoil_4
                                on_release: armrecoil_4.state = "down" if armrecoil_4.state == "normal" else "normal"
                                group: "armrecoil"
                    MDSmartTile:
                        on_release: armrecoil_5.state = "down" if armrecoil_5.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/armrecoil/armrecoil_5.png"
                        TileContainer:
                            ImageCheckbox:
                                id: armrecoil_5
                                on_release: armrecoil_5.state = "down" if armrecoil_5.state == "normal" else "normal"
                                group: "armrecoil"

                SubMenuTitle:
                    text: 'Подколенный угол'
                SmartMenu:
                    height: root.width / 1.3
                    MDSmartTile:
                        on_release: angle_1.state = "down" if angle_1.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/angle/angle_1.png"
                        TileContainer:
                            ImageCheckbox:
                                id: angle_1
                                on_release: angle_1.state = "down" if angle_1.state == "normal" else "normal"
                                group: "angle"
                    MDSmartTile:
                        on_release: angle_2.state = "down" if angle_2.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/angle/angle_2.png"
                        TileContainer:
                            ImageCheckbox:
                                id: angle_2
                                on_release: angle_2.state = "down" if angle_2.state == "normal" else "normal"                                
                                group: "angle"
                    MDSmartTile:
                        on_release: angle_3.state = "down" if angle_3.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/angle/angle_3.png"
                        TileContainer:
                            ImageCheckbox:
                                id: angle_3
                                on_release: angle_3.state = "down" if angle_3.state == "normal" else "normal"
                                group: "angle"
                    MDSmartTile:
                        on_release: angle_4.state = "down" if angle_4.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/angle/angle_4.png"
                        TileContainer:
                            ImageCheckbox:
                                id: angle_4
                                on_release: angle_4.state = "down" if angle_4.state == "normal" else "normal"
                                group: "angle"
                    MDSmartTile:
                        on_release: angle_5.state = "down" if angle_5.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/angle/angle_5.png"
                        TileContainer:
                            ImageCheckbox:
                                id: angle_5
                                on_release: angle_5.state = "down" if angle_5.state == "normal" else "normal"
                                group: "angle"
                    MDSmartTile:
                        on_release: angle_6.state = "down" if angle_6.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/angle/angle_6.png"
                        TileContainer:
                            ImageCheckbox:
                                id: angle_6
                                on_release: angle_6.state = "down" if angle_6.state == "normal" else "normal"
                                group: "angle"
                    MDSmartTile:
                        on_release: angle_7.state = "down" if angle_7.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/angle/angle_7.png"
                        TileContainer:
                            ImageCheckbox:
                                id: angle_7
                                on_release: angle_7.state = "down" if angle_7.state == "normal" else "normal"
                                group: "angle"

                SubMenuTitle:
                    text: 'Признак "шарфа"'
                SmartMenu:
	                height: root.width / 2          
                    MDSmartTile:
                        on_release: scarf_1.state = "down" if scarf_1.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/scarf/scarf_1.png"
                        TileContainer:
                            ImageCheckbox:
                                id: scarf_1
                                on_release: scarf_1.state = "down" if scarf_1.state == "normal" else "normal"
                                group: "scarf"
                    MDSmartTile:
                        on_release: scarf_2.state = "down" if scarf_2.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/scarf/scarf_2.png"
                        TileContainer:
                            ImageCheckbox:
                                id: scarf_2
                                on_release: scarf_2.state = "down" if scarf_2.state == "normal" else "normal"                                
                                group: "scarf"
                    MDSmartTile:
                        on_release: scarf_3.state = "down" if scarf_3.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/scarf/scarf_3.png"
                        TileContainer:
                            ImageCheckbox:
                                id: scarf_3
                                on_release: scarf_3.state = "down" if scarf_3.state == "normal" else "normal"
                                group: "scarf"
                    MDSmartTile:
                        on_release: scarf_4.state = "down" if scarf_4.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/scarf/scarf_4.png"
                        TileContainer:
                            ImageCheckbox:
                                id: scarf_4
                                on_release: scarf_4.state = "down" if scarf_4.state == "normal" else "normal"
                                group: "scarf"
                    MDSmartTile:
                        on_release: scarf_5.state = "down" if scarf_5.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/scarf/scarf_5.png"
                        TileContainer:
                            ImageCheckbox:
                                id: scarf_5
                                on_release: scarf_5.state = "down" if scarf_5.state == "normal" else "normal"
                                group: "scarf"
                    MDSmartTile:
                        on_release: scarf_6.state = "down" if scarf_6.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/scarf/scarf_6.png"
                        TileContainer:
                            ImageCheckbox:
                                id: scarf_6
                                on_release: scarf_6.state = "down" if scarf_6.state == "normal" else "normal"
                                group: "scarf"

                SubMenuTitle:
                    text: 'Пятка к уху'
                SmartMenu:
	                height: root.width / 2          
                    MDSmartTile:
                        on_release: heel_1.state = "down" if heel_1.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/heel/heel_1.png"
                        TileContainer:
                            ImageCheckbox:
                                id: heel_1
                                on_release: heel_1.state = "down" if heel_1.state == "normal" else "normal"
                                group: "heel"
                    MDSmartTile:
                        on_release: heel_2.state = "down" if heel_2.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/heel/heel_2.png"
                        TileContainer:
                            ImageCheckbox:
                                id: heel_2
                                on_release: heel_2.state = "down" if heel_2.state == "normal" else "normal"                                
                                group: "heel"
                    MDSmartTile:
                        on_release: heel_3.state = "down" if heel_3.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/heel/heel_3.png"
                        TileContainer:
                            ImageCheckbox:
                                id: heel_3
                                on_release: heel_3.state = "down" if heel_3.state == "normal" else "normal"
                                group: "heel"
                    MDSmartTile:
                        on_release: heel_4.state = "down" if heel_4.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/heel/heel_4.png"
                        TileContainer:
                            ImageCheckbox:
                                id: heel_4
                                on_release: heel_4.state = "down" if heel_4.state == "normal" else "normal"
                                group: "heel"
                    MDSmartTile:
                        on_release: heel_5.state = "down" if heel_5.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/heel/heel_5.png"
                        TileContainer:
                            ImageCheckbox:
                                id: heel_5
                                on_release: heel_5.state = "down" if heel_5.state == "normal" else "normal"
                                group: "heel"
                    MDSmartTile:
                        on_release: heel_6.state = "down" if heel_6.state == "normal" else "normal"
                        MDSmartTileImage:
                            source: "image/heel/heel_6.png"
                        TileContainer:
                            ImageCheckbox:
                                id: heel_6
                                on_release: heel_6.state = "down" if heel_6.state == "normal" else "normal"
                                group: "heel"

                Title:
                    text: "Оценка физической зрелости новорождённого ребёнка"      
                SubMenuTitle:
                    text: "Кожа"               
                MDList:
                    MDListItem:
                        on_release: ballard11.state = "down" if ballard11.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Липкая, рыхлая, прозрачная"
                        MDListItemTrailingCheckbox:
                            id: ballard11
                            on_release: ballard11.state = "down" if ballard11.state == "normal" else "normal"
                            group: 'ballard1'
                    MDListItem:
                        on_release: ballard12.state = "down" if ballard12.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Желатинозная красная, прозрачная"
                        MDListItemTrailingCheckbox:
                            id: ballard12
                            on_release: ballard12.state = "down" if ballard12.state == "normal" else "normal"
                            group: 'ballard1'
                    MDListItem:
                        on_release: ballard13.state = "down" if ballard13.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Гладкая, розовая, видимые вены"
                        MDListItemTrailingCheckbox:
                            id: ballard13
                            on_release: ballard13.state = "down" if ballard13.state == "normal" else "normal"
                            group: 'ballard1'
                    MDListItem:
                        on_release: ballard14.state = "down" if ballard14.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Поверхностное шелушение, видно немного вен"
                        MDListItemTrailingCheckbox:
                            id: ballard14
                            on_release: ballard14.state = "down" if ballard14.state == "normal" else "normal"
                            group: 'ballard1'
                    MDListItem:
                        on_release: ballard15.state = "down" if ballard15.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Поверхностные трещины, редкие вены"
                        MDListItemTrailingCheckbox:
                            id: ballard15
                            on_release: ballard15.state = "down" if ballard15.state == "normal" else "normal"
                            group: 'ballard1'
                    MDListItem:
                        on_release: ballard16.state = "down" if ballard16.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Пергаментообразная, глубокие трещины, сосуды не видны"
                        MDListItemTrailingCheckbox:
                            id: ballard16
                            on_release: ballard16.state = "down" if ballard16.state == "normal" else "normal"
                            group: 'ballard1'
                    MDListItem:
                        on_release: ballard17.state = "down" if ballard17.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Зрелая, толстая, морщинистая, складчатая"
                        MDListItemTrailingCheckbox:
                            id: ballard17
                            on_release: ballard17.state = "down" if ballard17.state == "normal" else "normal"
                            group: 'ballard1'

                SubMenuTitle:
                    text: "Лануго"               
                MDList:
                    MDListItem:
                        on_release: ballard21.state = "down" if ballard21.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Нет"
                        MDListItemTrailingCheckbox:
                            id: ballard21
                            on_release: ballard21.state = "down" if ballard21.state == "normal" else "normal"
                            group: 'ballard2'
                    MDListItem:
                        on_release: ballard22.state = "down" if ballard22.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Редкое"
                        MDListItemTrailingCheckbox:
                            id: ballard22
                            on_release: ballard22.state = "down" if ballard22.state == "normal" else "normal"
                            group: 'ballard2'
                    MDListItem:
                        on_release: ballard23.state = "down" if ballard23.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Обильное"
                        MDListItemTrailingCheckbox:
                            id: ballard23
                            on_release: ballard23.state = "down" if ballard23.state == "normal" else "normal"
                            group: 'ballard2'
                    MDListItem:
                        on_release: ballard24.state = "down" if ballard24.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Необильное"
                        MDListItemTrailingCheckbox:
                            id: ballard24
                            on_release: ballard24.state = "down" if ballard24.state == "normal" else "normal"
                            group: 'ballard2'
                    MDListItem:
                        on_release: ballard25.state = "down" if ballard25.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Мало, есть области без лануго"
                        MDListItemTrailingCheckbox:
                            id: ballard25
                            on_release: ballard25.state = "down" if ballard25.state == "normal" else "normal"
                            group: 'ballard2'
                    MDListItem:
                        on_release: ballard26.state = "down" if ballard26.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Редкое, в основном кожа без лануго"
                        MDListItemTrailingCheckbox:
                            id: ballard26
                            on_release: ballard26.state = "down" if ballard26.state == "normal" else "normal"
                            group: 'ballard2'

                SubMenuTitle:
                    text: "Поверхность подошвы"               
                MDList:
                    MDListItem:
                        on_release: ballard31.state = "down" if ballard31.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Длина стопы < 40мм"
                        MDListItemTrailingCheckbox:
                            id: ballard31
                            on_release: ballard31.state = "down" if ballard31.state == "normal" else "normal"
                            group: 'ballard3'
                    MDListItem:
                        on_release: ballard32.state = "down" if ballard32.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Длина стопы 40-50мм"
                        MDListItemTrailingCheckbox:
                            id: ballard32
                            on_release: ballard32.state = "down" if ballard32.state == "normal" else "normal"
                            group: 'ballard3'
                    MDListItem:
                        on_release: ballard33.state = "down" if ballard33.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: ">50мм, нет складок"
                        MDListItemTrailingCheckbox:
                            id: ballard33
                            on_release: ballard33.state = "down" if ballard33.state == "normal" else "normal"
                            group: 'ballard3'
                    MDListItem:
                        on_release: ballard34.state = "down" if ballard34.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Нечёткие красные полосы"
                        MDListItemTrailingCheckbox:
                            id: ballard34
                            on_release: ballard34.state = "down" if ballard34.state == "normal" else "normal"
                            group: 'ballard3'
                    MDListItem:
                        on_release: ballard35.state = "down" if ballard35.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Заметна только передняя поперечная борозда"
                        MDListItemTrailingCheckbox:
                            id: ballard35
                            on_release: ballard35.state = "down" if ballard35.state == "normal" else "normal"
                            group: 'ballard3'
                    MDListItem:
                        on_release: ballard36.state = "down" if ballard36.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Борозды покрывают передние 2/3 стопы"
                        MDListItemTrailingCheckbox:
                            id: ballard36
                            on_release: ballard36.state = "down" if ballard36.state == "normal" else "normal"
                            group: 'ballard3'
                    MDListItem:
                        on_release: ballard37.state = "down" if ballard37.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Борозды покрывают всю стопу"
                        MDListItemTrailingCheckbox:
                            id: ballard37
                            on_release: ballard37.state = "down" if ballard37.state == "normal" else "normal"
                            group: 'ballard3'

                SubMenuTitle:
                    text: "Грудные железы"               
                MDList:
                    MDListItem:
                        on_release: ballard41.state = "down" if ballard41.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Не определяются"
                        MDListItemTrailingCheckbox:
                            id: ballard41
                            on_release: ballard41.state = "down" if ballard41.state == "normal" else "normal"
                            group: 'ballard4'
                    MDListItem:
                        on_release: ballard42.state = "down" if ballard42.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Едва определяются"
                        MDListItemTrailingCheckbox:
                            id: ballard42
                            on_release: ballard42.state = "down" if ballard42.state == "normal" else "normal"
                            group: 'ballard4'
                    MDListItem:
                        on_release: ballard43.state = "down" if ballard43.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Сосок не выражен, ареола плоская"
                        MDListItemTrailingCheckbox:
                            id: ballard43
                            on_release: ballard43.state = "down" if ballard43.state == "normal" else "normal"
                            group: 'ballard4'
                    MDListItem:
                        on_release: ballard44.state = "down" if ballard44.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Ареола чётко очерчена, диаметр железы 1-2мм"
                        MDListItemTrailingCheckbox:
                            id: ballard44
                            on_release: ballard44.state = "down" if ballard44.state == "normal" else "normal"
                            group: 'ballard4'
                    MDListItem:
                        on_release: ballard45.state = "down" if ballard45.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Ареола возвышается, диаметр железы 3-4 мм"
                        MDListItemTrailingCheckbox:
                            id: ballard45
                            on_release: ballard45.state = "down" if ballard45.state == "normal" else "normal"
                            group: 'ballard4'
                    MDListItem:
                        on_release: ballard46.state = "down" if ballard46.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Ареола полностью сформирована, диаметр железы 5-10мм"
                        MDListItemTrailingCheckbox:
                            id: ballard46
                            on_release: ballard46.state = "down" if ballard46.state == "normal" else "normal"
                            group: 'ballard4'
                
                SubMenuTitle:
                    text: "Глаз/ухо"               
                MDList:
                    MDListItem:
                        on_release: ballard51.state = "down" if ballard51.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Веки сомкнуты плотно"
                        MDListItemTrailingCheckbox:
                            id: ballard51
                            on_release: ballard51.state = "down" if ballard51.state == "normal" else "normal"
                            group: 'ballard5'
                    MDListItem:
                        on_release: ballard52.state = "down" if ballard52.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Веки сомкнуты неплотно"
                        MDListItemTrailingCheckbox:
                            id: ballard52
                            on_release: ballard52.state = "down" if ballard52.state == "normal" else "normal"
                            group: 'ballard5'
                    MDListItem:
                        on_release: ballard53.state = "down" if ballard53.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Глазки открываются, ушная раковина плоская, при сгибании остаётся нерасправленной"
                        MDListItemTrailingCheckbox:
                            id: ballard53
                            on_release: ballard53.state = "down" if ballard53.state == "normal" else "normal"
                            group: 'ballard5'
                    MDListItem:
                        on_release: ballard54.state = "down" if ballard54.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Часть ушной раковины загнута внутрь; ушная раковина мягкая, при сгибании расправляется медленно"
                        MDListItemTrailingCheckbox:
                            id: ballard54
                            on_release: ballard54.state = "down" if ballard54.state == "normal" else "normal"
                            group: 'ballard5'
                    MDListItem:
                        on_release: ballard55.state = "down" if ballard55.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Вся верхняя часть ушной раковины загнута внутрь; ушная раковина мягкая, при сгибании легко расправляется"
                        MDListItemTrailingCheckbox:
                            id: ballard55
                            on_release: ballard55.state = "down" if ballard55.state == "normal" else "normal"
                            group: 'ballard5'
                    MDListItem:
                        on_release: ballard56.state = "down" if ballard56.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Вся верхняя часть ушной раковины загнута внутрь; твёрдая, сразу же расправляется после сгибания"
                        MDListItemTrailingCheckbox:
                            id: ballard56
                            on_release: ballard56.state = "down" if ballard56.state == "normal" else "normal"
                            group: 'ballard5'
                    MDListItem:
                        on_release: ballard57.state = "down" if ballard57.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Плотный хрящ; негибкая ушная раковина"
                        MDListItemTrailingCheckbox:
                            id: ballard57
                            on_release: ballard57.state = "down" if ballard57.state == "normal" else "normal"
                            group: 'ballard5'
                
                SubMenuTitle:
                    text: "Гениталии"
                MDGridLayout:
                    cols: 2
                    adaptive_height: True
                    spacing: "6dp"
                    MDCheckbox:
                        id: genit1
                        group: "genit"
                        active: True
                        on_active: app.change_genit()
                        on_press: if genit1.active == False: genit1.active = True
                    MDLabel:
                        text: "Мальчик"
                        adaptive_height: True
                        pos_hint: {"center_y": .5}
                    MDCheckbox:
                        id: genit2
                        group: "genit"
                        on_active: app.change_genit()
                        on_press: if genit2.active == False: genit2.active = True 
                    MDLabel:
                        text: "Девочка"
                        adaptive_height: True
                        pos_hint: {"center_y": .5}
                MDList:
                    MDListItem:
                        on_release: ballard61.state = "down" if ballard61.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            id: ballardtext61 
                            text: "Мошонка, пустая, гладкая"
                        MDListItemTrailingCheckbox:
                            id: ballard61
                            on_release: ballard61.state = "down" if ballard61.state == "normal" else "normal"
                            group: 'ballard6'
                    MDListItem:
                        on_release: ballard62.state = "down" if ballard62.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            id: ballardtext62 
                            text: "Мошонка, пустая, незначительные складки"
                        MDListItemTrailingCheckbox:
                            id: ballard62
                            on_release: ballard62.state = "down" if ballard62.state == "normal" else "normal"
                            group: 'ballard6'
                    MDListItem:
                        on_release: ballard63.state = "down" if ballard63.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            text: "Яички расположены над входом в мошонку, редкие складки"
                            id: ballardtext63 
                        MDListItemTrailingCheckbox:
                            id: ballard63
                            on_release: ballard63.state = "down" if ballard63.state == "normal" else "normal"
                            group: 'ballard6'
                    MDListItem:
                        on_release: ballard64.state = "down" if ballard64.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            id: ballardtext64 
                            text: "Яички опускаются в мошонку (процесс не завершён), несколько складок"
                        MDListItemTrailingCheckbox:
                            id: ballard64
                            on_release: ballard64.state = "down" if ballard64.state == "normal" else "normal"
                            group: 'ballard6'
                    MDListItem:
                        on_release: ballard65.state = "down" if ballard65.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            id: ballardtext65 
                            text: "Яички опущены в мошонку, складки хорошо выражены"
                        MDListItemTrailingCheckbox:
                            id: ballard65
                            on_release: ballard65.state = "down" if ballard65.state == "normal" else "normal"
                            group: 'ballard6'
                    MDListItem:
                        on_release: ballard66.state = "down" if ballard66.state == "normal" else "normal"
                        MDListItemHeadlineText:
                            id: ballardtext66 
                            text: "Яички свободно подвешены в мошонке, хорошо выражены глубокие складки"
                        MDListItemTrailingCheckbox:
                            id: ballard66
                            on_release: ballard66.state = "down" if ballard66.state == "normal" else "normal"
                            group: 'ballard6'

                MDTextField:
                    id: result1
                    mode: "outlined"
                    readonly: True
                    MDTextFieldHintText:
                        text: "Оценка нейромышленной зрелости:"   
                MDTextField:
                    id: result2
                    mode: "outlined"
                    readonly: True
                    MDTextFieldHintText:
                        text: "Оценка физической зрелости:"
                MDTextField:
                    id: resultfinal
                    mode: "outlined"
                    readonly: True
                    MDTextFieldHintText:
                        text: "Общая оценка зрелости:"          
                InterField:
                    id: inter

        MDNavigationBar:
            MDNavigationItem:
                on_release: app.count_ballard()
                active: False
                CountBar:
            MDNavigationItem:
                on_release: app.clear_scale() ; genit1.active = True
                active: False
                ClearBar: